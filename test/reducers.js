import 'babel-polyfill'
import expect from 'expect';
import reducers from '../js/reducers';

describe('reducers', () => {
  it('simple update title test', () => {
    let state;
    state = reducers({routing:{locationBeforeTransitions:{pathname:'/',search:'',hash:'',state:null,action:'POP',key:'183jhd',query:{},$searchBase:{search:'',searchBase:''}}},focus:null,items:{'1':{id:'1',title:'yeah, it\'s too slow',children:['3','2']},'2':{id:'2',title:'does this work?',children:[1490480702289,1490481712012,1490482801181,1490482806604]},'3':{id:'3',title:'three',children:['4','item_2',1490480425470]},'4':{id:'4',title:'any better?',children:[]},item_2:{id:'item_2',title:'starting to get any better?',children:[]},'1490480425470':{id:1490480425470,title:'hows this',children:[]},'1490480702289':{id:1490480702289,title:'that\'s working well',children:[]},'1490481712012':{id:1490481712012,title:'are we fast yet?',children:[]},'1490482801181':{id:1490482801181,title:'is this better?',children:[]},'1490482806604':{id:1490482806604,title:'hows this?',children:[]}}}, {type:'UPDATE_TITLE',id:'3',newTitle:'thre'});
    expect(state).toEqual({routing:{locationBeforeTransitions:{pathname:'/',search:'',hash:'',state:null,action:'POP',key:'183jhd',query:{},$searchBase:{search:'',searchBase:''}}},focus:null,items:{'1':{id:'1',title:'yeah, it\'s too slow',children:['3','2']},'2':{id:'2',title:'does this work?',children:[1490480702289,1490481712012,1490482801181,1490482806604]},'3':{id:'3',title:'thre',children:['4','item_2',1490480425470]},'4':{id:'4',title:'any better?',children:[]},item_2:{id:'item_2',title:'starting to get any better?',children:[]},'1490480425470':{id:1490480425470,title:'hows this',children:[]},'1490480702289':{id:1490480702289,title:'that\'s working well',children:[]},'1490481712012':{id:1490481712012,title:'are we fast yet?',children:[]},'1490482801181':{id:1490482801181,title:'is this better?',children:[]},'1490482806604':{id:1490482806604,title:'hows this?',children:[]}}});
  });

  it('simple new item test', () => {
    let state;
    state = reducers({routing:{locationBeforeTransitions:{pathname:'/',search:'',hash:'',state:null,action:'POP',key:'183jhd',query:{},$searchBase:{search:'',searchBase:''}}},focus:null,items:{'1':{id:'1',title:'yeah, it\'s too slow',children:['3','2']},'2':{id:'2',title:'does this work?',children:[1490480702289,1490481712012,1490482801181,1490482806604]},'3':{id:'3',title:'thre',children:['4','item_2',1490480425470]},'4':{id:'4',title:'any better?',children:[]},item_2:{id:'item_2',title:'starting to get any better?',children:[]},'1490480425470':{id:1490480425470,title:'hows this',children:[]},'1490480702289':{id:1490480702289,title:'that\'s working well',children:[]},'1490481712012':{id:1490481712012,title:'are we fast yet?',children:[]},'1490482801181':{id:1490482801181,title:'is this better?',children:[]},'1490482806604':{id:1490482806604,title:'hows this?',children:[]}}}, {type:'NEW_ITEM',item:{id:1490495951713,title:'',children:[]},afterId:1490482806604});
    expect(state).toEqual({routing:{locationBeforeTransitions:{pathname:'/',search:'',hash:'',state:null,action:'POP',key:'183jhd',query:{},$searchBase:{search:'',searchBase:''}}},focus:1490495951713,items:{'1':{id:'1',title:'yeah, it\'s too slow',children:['3','2']},'2':{id:'2',title:'does this work?',children:[1490480702289,1490481712012,1490482801181,1490482806604,1490495951713]},'3':{id:'3',title:'thre',children:['4','item_2',1490480425470]},'4':{id:'4',title:'any better?',children:[]},item_2:{id:'item_2',title:'starting to get any better?',children:[]},'1490480425470':{id:1490480425470,title:'hows this',children:[]},'1490480702289':{id:1490480702289,title:'that\'s working well',children:[]},'1490481712012':{id:1490481712012,title:'are we fast yet?',children:[]},'1490482801181':{id:1490482801181,title:'is this better?',children:[]},'1490482806604':{id:1490482806604,title:'hows this?',children:[]},'1490495951713':{id:1490495951713,title:'',children:[]}}});
  });

  it('another simple new item test', () => {
    let state;
    state = reducers({routing:{locationBeforeTransitions:{pathname:'/',search:'',hash:'',state:null,action:'POP',key:'183jhd',query:{},$searchBase:{search:'',searchBase:''}}},focus:1490495951713,items:{'1':{id:'1',title:'yeah, it\'s too slow',children:['3','2']},'2':{id:'2',title:'does this work?',children:[1490480702289,1490481712012,1490482801181,1490482806604]},'3':{id:'3',title:'thre',children:['4','item_2',1490480425470]},'4':{id:'4',title:'any better?',children:[]},item_2:{id:'item_2',title:'starting to get any better?',children:[]},'1490480425470':{id:1490480425470,title:'hows this',children:[]},'1490480702289':{id:1490480702289,title:'that\'s working well',children:[]},'1490481712012':{id:1490481712012,title:'are we fast yet?',children:[]},'1490482801181':{id:1490482801181,title:'is this better?',children:[]},'1490482806604':{id:1490482806604,title:'hows this?',children:[]}}}, {type:'NEW_ITEM',item:{id:1490496520554,title:'',children:[]},afterId:1490480702289});
    expect(state).toEqual({routing:{locationBeforeTransitions:{pathname:'/',search:'',hash:'',state:null,action:'POP',key:'183jhd',query:{},$searchBase:{search:'',searchBase:''}}},focus:1490496520554,items:{'1':{id:'1',title:'yeah, it\'s too slow',children:['3','2']},'2':{id:'2',title:'does this work?',children:[1490480702289,1490496520554,1490481712012,1490482801181,1490482806604]},'3':{id:'3',title:'thre',children:['4','item_2',1490480425470]},'4':{id:'4',title:'any better?',children:[]},item_2:{id:'item_2',title:'starting to get any better?',children:[]},'1490480425470':{id:1490480425470,title:'hows this',children:[]},'1490480702289':{id:1490480702289,title:'that\'s working well',children:[]},'1490481712012':{id:1490481712012,title:'are we fast yet?',children:[]},'1490482801181':{id:1490482801181,title:'is this better?',children:[]},'1490482806604':{id:1490482806604,title:'hows this?',children:[]},'1490496520554':{id:1490496520554,title:'',children:[]}}});
  });

  it('and another simple new item test', () => {
    let state;
    state = reducers({routing:{locationBeforeTransitions:{pathname:'/',search:'',hash:'',state:null,action:'POP',key:'183jhd',query:{},$searchBase:{search:'',searchBase:''}}},focus:1490496520554,items:{'1':{id:'1',title:'yeah, it\'s too slow',children:['3','2']},'2':{id:'2',title:'does this work?',children:[1490480702289,1490481712012,1490482801181,1490482806604]},'3':{id:'3',title:'thre',children:['4','item_2',1490480425470]},'4':{id:'4',title:'any better?',children:[]},item_2:{id:'item_2',title:'starting to get any better?',children:[]},'1490480425470':{id:1490480425470,title:'hows this',children:[]},'1490480702289':{id:1490480702289,title:'that\'s working well',children:[]},'1490481712012':{id:1490481712012,title:'are we fast yet?',children:[]},'1490482801181':{id:1490482801181,title:'is this better?',children:[]},'1490482806604':{id:1490482806604,title:'hows this?',children:[]}}}, {type:'NEW_ITEM',item:{id:1490496556884,title:'',children:[]},afterId:'3'});
    expect(state).toEqual({routing:{locationBeforeTransitions:{pathname:'/',search:'',hash:'',state:null,action:'POP',key:'183jhd',query:{},$searchBase:{search:'',searchBase:''}}},focus:1490496556884,items:{'1':{id:'1',title:'yeah, it\'s too slow',children:['3',1490496556884,'2']},'2':{id:'2',title:'does this work?',children:[1490480702289,1490481712012,1490482801181,1490482806604]},'3':{id:'3',title:'thre',children:['4','item_2',1490480425470]},'4':{id:'4',title:'any better?',children:[]},item_2:{id:'item_2',title:'starting to get any better?',children:[]},'1490480425470':{id:1490480425470,title:'hows this',children:[]},'1490480702289':{id:1490480702289,title:'that\'s working well',children:[]},'1490481712012':{id:1490481712012,title:'are we fast yet?',children:[]},'1490482801181':{id:1490482801181,title:'is this better?',children:[]},'1490482806604':{id:1490482806604,title:'hows this?',children:[]},'1490496556884':{id:1490496556884,title:'',children:[]}}});
  });
});
